"use strict";!function(module){module.config(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!1)}]),module.directive("uxColorPicker",function(){return{restrict:"E",replace:!0,templateUrl:"-upcoming/ColorPickerTemplate"}}),module.directive("contenteditable",["$sce",function($sce){return{restrict:"A",require:"?ngModel",link:function(scope,element,attrs,ngModel){if(ngModel){var update=function(){var html=element.html();"<br>"==html&&(html=""),ngModel.$setViewValue(html)};ngModel.$render=function(){element.html($sce.getTrustedHtml(ngModel.$viewValue||""))},element.on("blur keyup change",function(){scope.$evalAsync(update)}),update()}}}}]),module.controller("WYSIWYGController",["$scope",function($scope){$scope.init=function($element){return document.execCommand("DefaultParagraphSeparator",!1,"p")},$scope.exec=function(params){var value=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return(Array.isArray(params)?params:[params]).forEach(function(param){return document.execCommand(param,!1,value)})},$scope.link=function(){var urlLink=prompt("Enter url link","");null!=urlLink&&$scope.exec("createLink",urlLink)},$scope.image=function(){var imgSrc=prompt("Enter image location","");null!=imgSrc&&$scope.exec("insertimage",imgSrc)},$scope.table=function(){},$scope.log=function(){console.log($scope.source)}}]),module.directive("uxWysiwyg",function(){return{controller:"WYSIWYGController",link:function(scope,element){return scope.init(element)},replace:!0,restrict:"A",scope:!0,templateUrl:"-upcoming/WYSIWYGTemplate",transclude:!0}}),module.controller("ComboboxController",["$scope","$element","ComboboxSingleSelect",function($scope,$element,ComboboxSingleSelect){$scope.attributes={},$scope.model={},$scope.options={},$scope.ngModel=null,$scope.selectService=null,$scope.cancelOpen=function(event){$scope.options.editable&&event.stopPropagation()},$scope.initialize=function(attributes,ngModel){$scope.attributes=attributes,$scope.ngModel=ngModel},$scope.select=function(menu,item){var apply=2<arguments.length&&void 0!==arguments[2]&&arguments[2];$scope.selectService.select(menu,item),$scope.ngModel&&$scope.ngModel.$setViewValue($scope.model.value),apply&&$scope.$apply()},$scope.setSelectService=function(selectService){$scope.selectService=new selectService($scope,".ux-menuitem")},$scope.setSelectService(ComboboxSingleSelect)}]).directive("uxCombobox",function(){return{controller:"ComboboxController",link:function($scope,$element,$attributes,ngModel){return $scope.initialize($attributes,ngModel)},replace:!0,require:"?ngModel",restrict:"E",scope:{},templateUrl:"form/field/combobox/Combobox",transclude:!0}}),module.directive("uxOption",function(){return{link:function($scope,$element,$attributes){void 0!==$attributes.selected&&$scope.$parent.select(null,$element)},replace:!0,restrict:"E",templateUrl:"form/field/combobox/Option",transclude:!0}}),module.service("ComboboxMultiSelect",function(){return function($scope,itemSelector){var selected=[],values=[];$scope.model={value:void 0,text:void 0},this.select=function(menu,item){item.attr("selected")?item.removeAttr("selected"):item.attr("selected",!0),selected=[],values=[];var items=menu.find(itemSelector);switch(items.filter("[selected]").each(function(item){selected.push(item),values.push($(item).attr("value"))}),$scope.model.value=values.join(", "),selected.length){case 0:$scope.model.text="";break;case 1:$scope.model.text=$(items[0]).html();break;case items.length:$scope.model.text="(All Items Selected)";break;default:$scope.model.text="(Multiple Items Selected)"}}}}).directive("uxMultiSelect",["ComboboxMultiSelect",function(ComboboxMultiSelect){return{link:function($scope){return $scope.setSelectService(ComboboxMultiSelect)},restrict:"A"}}]),module.service("ComboboxSingleSelect",function(){return function($scope){$scope.model={value:void 0,text:void 0},this.select=function(menu,item){$scope.model.value=item.attr("value"),$scope.model.text=item.html(),menu&&(menu.find("[selected]").removeAttr("selected"),item.attr("selected",!0))}}}),module.controller("DropdownController",["$scope",function($scope){var $target,$menu,uxDropdown,$body=angular.element(document.body),init=function(){!$menu&&$target[0].getElementsByClassName("ux-menu")[0]&&(($menu=angular.element($target[0].getElementsByClassName("ux-menu")[0])).on("blur",close),$menu.on("click",function(event){var el=angular.element((event||window.event).target);$scope.$eval(uxDropdown,{menu:$menu,item:el,value:el.attr("value"),text:el.html()}),close()}),$menu[0].tabIndex=0)},open=function(){init();try{$body.append($menu)}catch(e){}$menu.css("left",function offsetLeft(element){return element.offsetLeft+(element.offsetParent?offsetLeft(element.offsetParent):0)}($target[0])+"px"),$menu.css("top",function offsetTop(element){return element.offsetTop+(element.offsetParent?offsetTop(element.offsetParent):0)}($target[0])+$target[0].offsetHeight+"px"),$menu.css("minWidth",$target[0].offsetWidth+"px"),$menu[0].focus(),$target.addClass("ui-pressed")},close=function(){try{$target.append($menu)}catch(e){}$target.removeClass("ui-pressed")};$scope.init=function(element,attributes){attributes&&attributes.uxDropdown&&(($target=element).on("click",open),uxDropdown=attributes.uxDropdown,init())}}]).directive("uxDropdown",function(){return{controller:"DropdownController",link:function($scope,$element,$attributes){return $scope.init($element,$attributes)},restrict:"A"}}),module.directive("uxEditable",[function(){return{link:function($scope){return $scope.options.editable=!0},require:"uxCombobox",restrict:"A"}}]),module.directive("uxMenu",function(){return{replace:!0,restrict:"E",templateUrl:"menu/Menu",transclude:!0}}),module.directive("uxMenuitem",function(){return{link:function($scope,$element,$attributes){void 0!==$attributes.selected&&$scope.$parent.select($element.attr("value"),$element.html())},replace:!0,restrict:"E",templateUrl:"menu/MenuItem",transclude:!0}})}(angular.module("angular-ux",["ngSanitize"])),angular.module("angular-ux").run(["$templateCache",function($templateCache){$templateCache.put("-upcoming/ColorPickerTemplate",'<div class="ui-padding ui-rows ux-color-picker"><div class="ui-cols ui-padding-bottom"><li value="rgb(0, 0, 0)" style="background: rgb(0, 0, 0);"></li><li value="rgb(68, 68, 68)" style="background: rgb(68, 68, 68);"></li><li value="rgb(102, 102, 102)" style="background: rgb(102, 102, 102);"></li><li value="rgb(153, 153, 153)" style="background: rgb(153, 153, 153);"></li><li value="rgb(204, 204, 204)" style="background: rgb(204, 204, 204);"></li><li value="rgb(238, 238, 238)" style="background: rgb(238, 238, 238);"></li><li value="rgb(243, 243, 243)" style="background: rgb(243, 243, 243);"></li><li value="rgb(255, 255, 255)" style="background: rgb(255, 255, 255);"></li></div><div class="ui-cols ui-padding-bottom"><li value="rgb(255, 0, 0)" style="background: rgb(255, 0, 0);"></li><li value="rgb(255, 153, 0)" style="background: rgb(255, 153, 0);"></li><li value="rgb(255, 255, 0)" style="background: rgb(255, 255, 0);"></li><li value="rgb(0, 255, 0)" style="background: rgb(0, 255, 0);"></li><li value="rgb(0, 255, 255)" style="background: rgb(0, 255, 255);"></li><li value="rgb(0, 0, 255)" style="background: rgb(0, 0, 255);"></li><li value="rgb(153, 0, 255)" style="background: rgb(153, 0, 255);"></li><li value="rgb(255, 0, 255)" style="background: rgb(255, 0, 255);"></li></div><div class=ui-cols><li value="rgb(244, 204, 204)" style="background: rgb(244, 204, 204);"></li><li value="rgb(252, 229, 205)" style="background: rgb(252, 229, 205);"></li><li value="rgb(255, 242, 204)" style="background: rgb(255, 242, 204);"></li><li value="rgb(217, 234, 211)" style="background: rgb(217, 234, 211);"></li><li value="rgb(208, 224, 227)" style="background: rgb(208, 224, 227);"></li><li value="rgb(207, 226, 243)" style="background: rgb(207, 226, 243);"></li><li value="rgb(217, 210, 233)" style="background: rgb(217, 210, 233);"></li><li value="rgb(234, 209, 220)" style="background: rgb(234, 209, 220);"></li></div><div class=ui-cols><li value="rgb(234, 153, 153)" style="background: rgb(234, 153, 153);"></li><li value="rgb(249, 203, 156)" style="background: rgb(249, 203, 156);"></li><li value="rgb(255, 229, 153)" style="background: rgb(255, 229, 153);"></li><li value="rgb(182, 215, 168)" style="background: rgb(182, 215, 168);"></li><li value="rgb(162, 196, 201)" style="background: rgb(162, 196, 201);"></li><li value="rgb(159, 197, 232)" style="background: rgb(159, 197, 232);"></li><li value="rgb(180, 167, 214)" style="background: rgb(180, 167, 214);"></li><li value="rgb(213, 166, 189)" style="background: rgb(213, 166, 189);"></li></div><div class=ui-cols><li value="rgb(224, 102, 102)" style="background: rgb(224, 102, 102);"></li><li value="rgb(246, 178, 107)" style="background: rgb(246, 178, 107);"></li><li value="rgb(255, 217, 102)" style="background: rgb(255, 217, 102);"></li><li value="rgb(147, 196, 125)" style="background: rgb(147, 196, 125);"></li><li value="rgb(118, 165, 175)" style="background: rgb(118, 165, 175);"></li><li value="rgb(111, 168, 220)" style="background: rgb(111, 168, 220);"></li><li value="rgb(142, 124, 195)" style="background: rgb(142, 124, 195);"></li><li value="rgb(194, 123, 160)" style="background: rgb(194, 123, 160);"></li></div><div class=ui-cols><li value="rgb(204, 0, 0)" style="background: rgb(204, 0, 0);"></li><li value="rgb(230, 145, 56)" style="background: rgb(230, 145, 56);"></li><li value="rgb(241, 194, 50)" style="background: rgb(241, 194, 50);"></li><li value="rgb(106, 168, 79)" style="background: rgb(106, 168, 79);"></li><li value="rgb(69, 129, 142)" style="background: rgb(69, 129, 142);"></li><li value="rgb(61, 133, 198)" style="background: rgb(61, 133, 198);"></li><li value="rgb(103, 78, 167)" style="background: rgb(103, 78, 167);"></li><li value="rgb(166, 77, 121)" style="background: rgb(166, 77, 121);"></li></div><div class=ui-cols><li value="rgb(153, 0, 0)" style="background: rgb(153, 0, 0);"></li><li value="rgb(180, 95, 6)" style="background: rgb(180, 95, 6);"></li><li value="rgb(191, 144, 0)" style="background: rgb(191, 144, 0);"></li><li value="rgb(56, 118, 29)" style="background: rgb(56, 118, 29);"></li><li value="rgb(19, 79, 92)" style="background: rgb(19, 79, 92);"></li><li value="rgb(11, 83, 148)" style="background: rgb(11, 83, 148);"></li><li value="rgb(53, 28, 117)" style="background: rgb(53, 28, 117);"></li><li value="rgb(116, 27, 71)" style="background: rgb(116, 27, 71);"></li></div><div class=ui-cols><li value="rgb(102, 0, 0)" style="background: rgb(102, 0, 0);"></li><li value="rgb(120, 63, 4)" style="background: rgb(120, 63, 4);"></li><li value="rgb(127, 96, 0)" style="background: rgb(127, 96, 0);"></li><li value="rgb(39, 78, 19)" style="background: rgb(39, 78, 19);"></li><li value="rgb(12, 52, 61)" style="background: rgb(12, 52, 61);"></li><li value="rgb(7, 55, 99)" style="background: rgb(7, 55, 99);"></li><li value="rgb(32, 18, 77)" style="background: rgb(32, 18, 77);"></li><li value="rgb(76, 17, 48)" style="background: rgb(76, 17, 48);"></li></div></div>'),$templateCache.put("-upcoming/WYSIWYGTemplate",'<div class=ui-rows><div class="ui-border-bottom ui-cols ui-toolbar"><div class=ui-rows><div class=ui-cols><button class="ui-button ui-flex-3" title=Font ux-dropdown="exec(\'fontName\', value)">Font<ul class=ux-menu><ux-menuitem value=Arial style="font-family: \'Arial\';">Arial</ux-menuitem><ux-menuitem value="Courier New" style="font-family: \'Courier New\';">Courier New</ux-menuitem><ux-menuitem value=Georgia style="font-family: \'Georgia\';">Georgia</ux-menuitem><ux-menuitem value=Helvetica style="font-family: \'Helvetica\';">Helvetica</ux-menuitem><ux-menuitem value="Times New Roman" style="font-family: \'Times New Roman\';">Times New Roman</ux-menuitem><ux-menuitem value=Verdana style="font-family: \'Verdana\';">Verdana</ux-menuitem></ul></button> <button class="ui-button ui-flex-2" title="Font Size" ux-dropdown="exec(\'fontSize\', value)">Size<ul class=ux-menu><ux-menuitem value=1>8pt</ux-menuitem><ux-menuitem value=2>10pt</ux-menuitem><ux-menuitem value=3>12pt</ux-menuitem><ux-menuitem value=4>14pt</ux-menuitem><ux-menuitem value=5>18pt</ux-menuitem><ux-menuitem value=6>24pt</ux-menuitem><ux-menuitem value=7>36pt</ux-menuitem></ul></button> <button class="ui-button ui-flex-3" title="Font Size" ux-dropdown="exec(\'formatBlock\', value)">Format<ul class=ux-menu><ux-menuitem value="<p>">Paragraph</ux-menuitem><ux-menuitem value="<h1>" style="font-weight: bold;">Heading 1</ux-menuitem><ux-menuitem value="<h2>" style="font-weight: bold;">Heading 2</ux-menuitem><ux-menuitem value="<h3>" style="font-weight: bold;">Heading 3</ux-menuitem><ux-menuitem value="<h4>" style="font-weight: bold;">Heading 4</ux-menuitem><ux-menuitem value="<h5>" style="font-weight: bold;">Heading 5</ux-menuitem><ux-menuitem value="<h6>" style="font-weight: bold;">Heading 6</ux-menuitem><ux-menuitem value="<pre>" style="font-family: \'Courier New\';">Preformatted</ux-menuitem></ul></button></div><div class=ui-cols><button class=ui-button ng-click="exec(\'bold\')" title=Bold><i class="fa fa-bold"></i></button> <button class=ui-button ng-click="exec(\'italic\')" title=Italic><i class="fa fa-italic"></i></button> <button class=ui-button ng-click="exec(\'underline\')" title=Underline><i class="fa fa-underline"></i></button> <button class=ui-button ng-click="exec(\'strikethrough\')" title=Strikethrough><i class="fa fa-strikethrough"></i></button> <button class=ui-button ng-click="exec(\'subscript\')" title=Subscript><i class="fa fa-subscript"></i></button> <button class=ui-button ng-click="exec(\'superscript\')" title=Superscript><i class="fa fa-superscript"></i></button><hr/><button class=ui-button title="Font Color" ux-dropdown="exec([\'foreColor\'], value)"><i class="fa fa-paint-brush"></i><ul class=ux-menu><ux-color-picker></ux-color-picker></ul></button> <button class=ui-button title="Background Color" ux-dropdown="exec([\'hiliteColor\', \'backColor\'], value)"><i class="fa fa-fill-drip"></i><ul class=ux-menu><ux-color-picker></ux-color-picker></ul></button></div><div class="ui-spacing ui-text-center ui-text-xs">Font</div></div><hr/><div class=ui-rows><div class=ui-cols><button class=ui-button ng-click="exec(\'insertunOrderedList\')" title="Create Bulleted List"><i class="fa fa-list-ul"></i></button> <button class=ui-button ng-click="exec(\'insertOrderedList\')" title="Create Ordered List"><i class="fa fa-list-ol"></i></button><hr/><button class=ui-button ng-click="exec(\'outdent\')" title="Decrease Indent"><i class="fa fa-outdent"></i></button> <button class=ui-button ng-click="exec(\'indent\')" title="Increase Indent"><i class="fa fa-indent"></i></button></div><div class=ui-cols><button class=ui-button ng-click="exec(\'justifyLeft\')" title="Align Left"><i class="fa fa-align-left"></i></button> <button class=ui-button ng-click="exec(\'justifyCenter\')" title="Align Center"><i class="fa fa-align-center"></i></button> <button class=ui-button ng-click="exec(\'justifyRight\')" title="Align Right"><i class="fa fa-align-right"></i></button> <button class=ui-button ng-click="exec(\'justifyFull\')" title=Justify><i class="fa fa-align-justify"></i></button></div><div class="ui-spacing ui-text-center ui-text-xs">Paragraph</div></div><hr/><div class=ui-rows><div class=ui-cols><button class=ui-button ng-click="exec(\'insertHorizontalRule\')" title="Insert Horizontal Rule"><i class="fa fa-minus"></i></button> <button class=ui-button ng-click=link() title="Insert Link"><i class="fa fa-link"></i></button> <button class=ui-button ng-click="exec(\'unlink\')" title="Remove Link"><i class="fa fa-unlink"></i></button></div><div class=ui-cols><button class=ui-button ng-click=symbol() title="Insert Symbol"><i class="fa fa-dollar-sign"></i></button> <button class=ui-button ng-click=image() title="Insert Image"><i class="fa fa-image"></i></button> <button class=ui-button ng-click=table() title="Insert Table"><i class="fa fa-table"></i></button></div><div class="ui-spacing ui-text-center ui-text-xs">Insert</div></div><hr/></div><div class="ui-editable ui-flex ui-padding-left-double ui-padding-right-double" contenteditable ng-transclude ng-model=source style="font-family: Verdana; font-size: 10pt;"></div><div class="ui-border-top ui-cols"><div class=ui-flex></div><div class="ui-border-left ui-padding ui-padding-left-double ui-padding-right-double ui-text-s">Length: {{ source.length }}</div></div><div class="ui-border-top ui-toolbar"><button class=ui-button ng-click=log()>View Source</button></div></div>'),$templateCache.put("form/field/combobox/Combobox",'<span class="ui-cols ux-combobox" tabindex=0 ux-dropdown="select(menu, item, true)"><input name="{{ attributes.name }}" ng-model=model.value ng-required=attributes.required type=hidden /> <input class="ui-flex ux-combobox-value" ng-click=cancelOpen($event) ng-readonly=!options.editable ng-model=model.text placeholder="{{ attributes.placeholder || \' \' }}"/> <span class=ux-trigger></span><ux-menu><div ng-transclude></div></ux-menu></span>'),$templateCache.put("form/field/combobox/Option",'<li class="ux-menuitem ux-option" ng-transclude></li>'),$templateCache.put("menu/Menu","<ul class=ux-menu ng-transclude></ul>"),$templateCache.put("menu/MenuItem","<li class=ux-menuitem ng-transclude></li>")}]);